my_dir <- dirname(rstudioapi::getActiveDocumentContext()$path)
setwd(my_dir)
# cleaning variables and graphs
rm(list=ls())
graphics.off()
# Load required packages
library(tidyverse)     # Data manipulation and visualization
library(tidyquant)     # Financial data analysis
library(rugarch)       # Univariate GARCH modeling
library(fGarch)        # Multivariate GARCH modeling
library(copula)        # Copula modeling
library(Rsolnp)        # Nonlinear optimization
library(fPortfolio)    # Portfolio optimization
library(PerformanceAnalytics) # Performance metrics
library(xts) # Time series object
library(xtable) # Create LaTex tables
library(ggplot2) # Produce graph
# Importing modules
source("data_preprocessing.R")
source("garch_estimate.R")
source("copula_estimate.R")
source("portfolio_optimization.R")
source("portfolio_analysis.R")
source("performance_metrics.R")
source("exporting_results.R")
mixture_portfolio_1y <- read_csv("results/mixture_portfolio_1y.csv")
mixture_portfolio_2y <- read_csv("results/mixture_portfolio_2y.csv")
mixture_portfolio_5y <- read_csv("results/mixture_portfolio_5y.csv")
gaussian_portfolio_1y <- read_csv("results/gaussian_portfolio_1y.csv")
gaussian_portfolio_2y <- read_csv("results/gaussian_portfolio_2y.csv")
gaussian_portfolio_5y <- read_csv("results/gaussian_portfolio_5y.csv")
naive_portfolio <- read_csv("results/naive_portfolio.csv")
# Convert the portfolio_returns matrix to an xts object
mixture_portfolio_1y_xts <- xts::xts(mixture_portfolio_1y[,-1],
order.by = mixture_portfolio_1y$date)
mixture_portfolio_2y_xts <- xts::xts(mixture_portfolio_2y[,-1],
order.by = mixture_portfolio_2y$date)
mixture_portfolio_5y_xts <- xts::xts(mixture_portfolio_5y[,-1],
order.by = mixture_portfolio_5y$date)
gaussian_portfolio_1y_xts <- xts::xts(gaussian_portfolio_1y[,-1],
order.by = gaussian_portfolio_1y$date)
gaussian_portfolio_2y_xts <- xts::xts(gaussian_portfolio_2y[,-1],
order.by = gaussian_portfolio_2y$date)
gaussian_portfolio_5y_xts <- xts::xts(gaussian_portfolio_5y[,-1],
order.by = gaussian_portfolio_5y$date)
naive_portfolio_xts <- xts::xts(naive_portfolio[253:ncol(returns), -1],
order.by = naive_portfolio[253:ncol(returns),1])
naive_portfolio
naive_portfolio_xts <- xts::xts(naive_portfolio[253:ncol(naive_portfolio), -1],
order.by = naive_portfolio[253:ncol(naive_portfolio),1])
naive_portfolio_xts <- xts::xts(naive_portfolio[253:ncol(naive_portfolio), -1],
order.by = naive_portfolio[253:ncol(naive_portfolio),1])
naive_portfolio_xts <- xts::xts(naive_portfolio[253:ncol(naive_portfolio), -1],
order.by = naive_portfolio$date[253:ncol(naive_portfolio)])
head(naive_portfolio_xts)
naive_portfolio_xts <- xts::xts(naive_portfolio[253:ncol(naive_portfolio), -1],
order.by = naive_portfolio[253:ncol(naive_portfolio)]$date)
naive_dates <- naive_portfolio[253:ncol(naive_portfolio), 1]
naive_dates
naive_portfolio_xts <- xts::xts(naive_portfolio[253:ncol(naive_portfolio), -1],
order.by = naive_dates)
naive_portfolio_xts <- xts::xts(naive_portfolio[253:ncol(naive_portfolio), -1],
order.by = naive_portfolio[253:ncol(naive_portfolio),1])
naive_portfolio[253:ncol(naive_portfolio),1]
naive_portfolio_xts <- naive_portfolio %>% timetk::tk_xts()
naive_portfolio_xts
naive_portfolio_xts %>% head()
naive_portfolio_xts <- naive_portfolio_xts[253:ncol(naive_portfolio_xts),]
head(naive_portfolio_xts)
naive_portfolio_xts[253,]
x = naive_portfolio_xts[253,]
x
ncol(naive_portfolio)
naive_portfolio_xts <- xts::xts(naive_portfolio[253:ncol(naive_portfolio), -1],
order.by = naive_portfolio[253:nrow(naive_portfolio),1])
naive_portfolio_xts <- xts::xts(naive_portfolio[253:nrow(naive_portfolio), -1],
order.by = naive_portfolio[253:nrow(naive_portfolio),1])
naive_portfolio_xts <- naive_portfolio_xts[253:nrow(naive_portfolio_xts),]
head(naive_portfolio_xts)
naive_portfolio_xts <- timetk::tk_xts(naive_portfolio)
naive_portfolio_xts <- naive_portfolio_xts[253,nrow(naive_portfolio_xts),]
naive_portfolio_xts <- naive_portfolio_xts[253:nrow(naive_portfolio_xts),]
head(naive_portfolio_xts)
xts::xts(naive_portfolio[253:nrow(naive_portfolio), -1],
order.by = naive_portfolio$date[253:nrow(naive_portfolio),])
xts::xts(naive_portfolio[253:nrow(naive_portfolio), -1],
order.by = naive_portfolio[253:nrow(naive_portfolio),]$date)
head(xts::xts(naive_portfolio[253:nrow(naive_portfolio), -1],
order.by = naive_portfolio[253:nrow(naive_portfolio),]$date))
naive_portfolio_xts <- xts::xts(naive_portfolio[253:nrow(naive_portfolio), -1],
order.by = naive_portfolio[253:nrow(naive_portfolio),]$date)
# Compute performance
mixture_portfolio_1y_performance <- ComputePerformance(mixture_portfolio_1y_xts)
mixture_portfolio_2y_performance <- ComputePerformance(mixture_portfolio_2y_xts)
mixture_portfolio_5y_performance <- ComputePerformance(mixture_portfolio_5y_xts)
gaussian_portfolio_1y_performance <- ComputePerformance(gaussian_portfolio_1y_xts)
gaussian_portfolio_2y_performance <- ComputePerformance(gaussian_portfolio_2y_xts)
gaussian_portfolio_5y_performance <- ComputePerformance(gaussian_portfolio_5y_xts)
naive_portfolio_performance <- ComputePerformance(naive_portfolio_xts)
merged_portfolio_1y <- mixture_portfolio_1y_xts %>%
inner_join(gaussian_portfolio_1y_xts, by = "index") %>%
inner_join(naive_portfolio_xts, by = "index")
merged_portfolio_1y <- mixture_portfolio_1y_xts %>%
join(gaussian_portfolio_1y_xts, by = "index") %>%
join(naive_portfolio_xts, by = "index")
# Merge the three performance results into one list
all_performance <- list(
mixture_1y = mixture_portfolio_1y_performance,
mixture_2y = mixture_portfolio_2y_performance,
mixture_5y = mixture_portfolio_5y_performance,
gaussian_1y = gaussian_portfolio_1y_performance,
gaussian_2y = gaussian_portfolio_2y_performance,
gaussian_5y = gaussian_portfolio_5y_performance,
naive = naive_portfolio_performance
)
merged_portfolio_1y <- mixture_portfolio_1y_xts %>%
inner_join(gaussian_portfolio_1y_xts, by = "index") %>%
inner_join(naive_portfolio_xts, by = "index")
merged_portfolio_1y <- mixture_portfolio_1y %>%
inner_join(gaussian_portfolio_1y, by = "date") %>%
inner_join(naive_portfolio, by = "date") %>%
timetk::tk_xts()
merged_portfolio_2y <- mixture_portfolio_2y %>%
inner_join(gaussian_portfolio_2y, by = "date") %>%
inner_join(naive_portfolio, by = "date") %>%
timetk::tk_xts()
merged_portfolio_5y <- mixture_portfolio_5y %>%
inner_join(gaussian_portfolio_5y, by = "date") %>%
inner_join(naive_portfolio, by = "date") %>%
timetk::tk_xts()
merged_portfolio_1y
merged_portfolio_1y %>%  head()
merged_portfolio_1y <- mixture_portfolio_1y %>%
dplyr::inner_join(gaussian_portfolio_1y, by = "date") %>%
dplyr::inner_join(naive_portfolio, by = "date") %>%
dplyr::rename("Mixture Portfolio 1 year" = portfolio_return.x,
"Gaussian Portfolio 1 year" = portfolio_return.y,
"Equal Weight Portfolio" = portfolio_return) %>%
timetk::tk_xts()
merged_portfolio_2y <- mixture_portfolio_2y %>%
dplyr::inner_join(gaussian_portfolio_2y, by = "date") %>%
dplyr::inner_join(naive_portfolio, by = "date") %>%
dplyr::rename("Mixture Portfolio 2 years" = portfolio_return.x,
"Gaussian Portfolio 2 years" = portfolio_return.y,
"Equal Weight Portfolio" = portfolio_return) %>%
timetk::tk_xts()
merged_portfolio_5y <- mixture_portfolio_5y %>%
dplyr::inner_join(gaussian_portfolio_5y, by = "date") %>%
dplyr::inner_join(naive_portfolio, by = "date") %>%
dplyr::rename("Mixture Portfolio 5 years" = portfolio_return.x,
"Gaussian Portfolio 5 years" = portfolio_return.y,
"Equal Weight Portfolio" = portfolio_return) %>%
timetk::tk_xts()
SavePerformanceGraphs(data = merged_portfolio_1y,
filename = "figures/etf_performance_1y_graph.png")
source("exporting_results.R")
SavePerformanceGraphs(data = merged_portfolio_1y,
filename = "figures/etf_performance_1y_graph.png")
SavePerformanceGraph(data = merged_portfolio_1y,
filename = "figures/etf_performance_1y_graph.png")
SavePerformanceGraph <- function(data, filename = "figures/performance_graph.png") {
# SavePerformanceGraph: Function to save a performance summary chart as an image.
# Inputs:
#   data: A data frame containing performance metrics for the portfolio.
#   filename: File path to save the performance graph as an image (default = "figures/performance_graph.png").
# Create the PerformanceSummary chart
chart <- PerformanceAnalytics::charts.PerformanceSummary(data,
main = "Performance chart")
# Save the chart to a file
dev.copy(png, filename)
dev.off()
cat("Performance graph saved to:", filename, "\n")
}
SavePerformanceGraph(data = merged_portfolio_1y,
filename = "figures/etf_performance_1y_graph.png")
SavePerformanceGraph(data = merged_portfolio_2y,
filename = "figures/etf_performance_2y_graph.png")
SavePerformanceGraph(data = merged_portfolio_5y,
filename = "figures/etf_performance_5y_graph.png")
SavePerformanceGraph <- function(data, filename = "figures/performance_graph.png") {
# SavePerformanceGraph: Function to save a performance summary chart as an image.
# Inputs:
#   data: A data frame containing performance metrics for the portfolio.
#   filename: File path to save the performance graph as an image (default = "figures/performance_graph.png").
# Create the PerformanceSummary chart
chart <- PerformanceAnalytics::charts.PerformanceSummary(data,
main = "Performance chart")
# Adjust the legend position and other settings
perf_chart <- perf_chart + theme(legend.position = "bottom")  # Set legend at the bottom
# Save the chart to a file
dev.copy(png, filename)
dev.off()
cat("Performance graph saved to:", filename, "\n")
}
SavePerformanceGraph(data = merged_portfolio_1y,
filename = "figures/etf_performance_1y_graph.png")
SavePerformanceGraph <- function(data, filename = "figures/performance_graph.png") {
# SavePerformanceGraph: Function to save a performance summary chart as an image.
# Inputs:
#   data: A data frame containing performance metrics for the portfolio.
#   filename: File path to save the performance graph as an image (default = "figures/performance_graph.png").
# Create the PerformanceSummary chart
chart <- PerformanceAnalytics::charts.PerformanceSummary(data,
main = "Performance chart")
# Adjust the legend position and other settings
perf_chart <- chart + theme(legend.position = "bottom")  # Set legend at the bottom
# Save the chart to a file
dev.copy(png, filename)
dev.off()
cat("Performance graph saved to:", filename, "\n")
}
SavePerformanceGraph(data = merged_portfolio_1y,
filename = "figures/etf_performance_1y_graph.png")
SavePerformanceGraph <- function(data, filename = "figures/performance_graph.png") {
# SavePerformanceGraph: Function to save a performance summary chart as an image.
# Inputs:
#   data: A data frame containing performance metrics for the portfolio.
#   filename: File path to save the performance graph as an image (default = "figures/performance_graph.png").
# Create the PerformanceSummary chart
chart <- PerformanceAnalytics::charts.PerformanceSummary(data,
main = "Performance chart",
legend.loc = "bottom",
legendStyle = "right")
# Save the chart to a file
dev.copy(png, filename)
dev.off()
cat("Performance graph saved to:", filename, "\n")
}
SavePerformanceGraph(data = merged_portfolio_1y,
filename = "figures/etf_performance_1y_graph.png")
SavePerformanceGraph <- function(data, filename = "figures/performance_graph.png") {
# SavePerformanceGraph: Function to save a performance summary chart as an image.
# Inputs:
#   data: A data frame containing performance metrics for the portfolio.
#   filename: File path to save the performance graph as an image (default = "figures/performance_graph.png").
# Create the PerformanceSummary chart
chart <- PerformanceAnalytics::charts.PerformanceSummary(data,
main = "Performance chart")
# Save the chart to a file
dev.copy(png, filename)
dev.off()
cat("Performance graph saved to:", filename, "\n")
}
SavePerformanceGraph(data = merged_portfolio_1y,
filename = "figures/etf_performance_1y_graph.png")
SavePerformanceGraph(data = merged_portfolio_2y,
filename = "figures/etf_performance_2y_graph.png")
SavePerformanceGraph(data = merged_portfolio_5y,
filename = "figures/etf_performance_5y_graph.png")
SavePerformanceTable(returns = all_performance,
filename = "tables/etf_performance_table.txt")
SavePerformanceTable(merged_performance = all_performance,
filename = "tables/etf_performance_table.txt")
SavePerformanceTable <- function(all_performance, filename = "tables/performance_table.txt") {
# SavePerformanceTable: Function to save a LaTeX table of portfolio performance metrics.
# Inputs:
#   all_performance: A list containing performance metrics for different portfolio strategies.
#   filename: File path to save the LaTeX table (default = "tables/performance_table.txt").
# Performance metrics names
metric_names <- c("Annualized Return",
"Annualized Std. Dev.",
"Sharpe Ratio (Annualized)",
"Sortino Ratio",
"Omega Sharpe Ratio",
"VaR (97.5%)",
"CVaR (97.5%)",
"Semi-Deviation",
"Worst Drawdown")
# Create a data frame to store the performance metrics and corresponding values
performance_df <- data.frame(
Metric = metric_names,
Mixture_1y = all_performance$mixture_1y,
Mixture_2y = all_performance$mixture_2y,
Mixture_5y = all_performance$mixture_5y,
Gaussian_1y = all_performance$gaussian_1y,
Gaussian_2y = all_performance$gaussian_2y,
Gaussian_5y = all_performance$gaussian_5y,
Naive = all_performance$naive
)
# Convert the data frame to a LaTeX table using xtable
performance_table <- xtable(performance_df,
caption = "Portfolio Performance Metrics",
align = c("l", "c", "c", "c", "c", "c", "c", "c", "c"),
digits = c(2, 4, 4, 4, 4, 4, 4, 4, 4))
# Save the LaTeX table as .txt file
write(as.character(performance_table), file = filename)
cat("Performance table saved to:", filename, "\n")
}
SavePerformanceTable(all_performance = all_performance,
filename = "tables/etf_performance_table.txt")
# Performance metrics names
metric_names <- c("Annualized Return",
"Annualized Std. Dev.",
"Sharpe Ratio (Annualized)",
"Sortino Ratio",
"Omega Sharpe Ratio",
"VaR (97.5%)",
"CVaR (97.5%)",
"Semi-Deviation",
"Worst Drawdown")
all_performance$mixture_1y
ComputePerformance <- function(returns) {
# ComputePerformance: Function to measure portfolio performance using various performance ratios.
# Inputs:
#   returns: A data frame containing asset returns with a 'date' column and individual asset columns.
# Output:
#   A list of computed performance ratios.
# Compute annualized mean excess return
ret_annualized <- PerformanceAnalytics::Return.annualized(returns)
# Compute annualized standard deviation
std_dev_annualized <- PerformanceAnalytics::StdDev.annualized(returns)
# Compute annualized Sharpe Ratio
Sharpe_annualized <- PerformanceAnalytics::SharpeRatio.annualized(returns)
# Compute Sortino Ratio
Sortino <- PerformanceAnalytics::SortinoRatio(returns)
# Compute Omega Sharpe Ratio
omega <- PerformanceAnalytics::OmegaSharpeRatio(returns)
# Compute VaR (Value at Risk) at 97.5% confidence level
var_975 <- PerformanceAnalytics::VaR(returns, p = 0.975, method = "historical")
# Compute Conditional VaR (CVaR) at 97.5% confidence level
cvar_975 <- PerformanceAnalytics::ES(returns, p = 0.975, method = "historical")
# Compute semi-deviation
semi_deviation <- PerformanceAnalytics::SemiDeviation(returns)
# Compute worst drawdown
worst_drawdown <- PerformanceAnalytics::maxDrawdown(returns)
# Create a list of performance ratios
performance_ratios <- data.frame("Metrics" = c("Annualized Return",
"Annualized Std. Dev.",
"Sharpe Ratio (Annualized)",
"Sortino Ratio",
"Omega Sharpe Ratio",
"VaR (97.5%)",
"CVaR (97.5%)",
"Semi-Deviation",
"Worst Drawdown"),
"Values" = c(ret_annualized,
std_dev_annualized,
Sharpe_annualized,
Sortino,
omega,
var_975,
cvar_975,
semi_deviation,
worst_drawdown))
return(performance_ratios)
}
# Compute performance
mixture_portfolio_1y_performance <- ComputePerformance(mixture_portfolio_1y_xts)
mixture_portfolio_1y_performance
mixture_portfolio_2y_performance <- ComputePerformance(mixture_portfolio_2y_xts)
mixture_portfolio_5y_performance <- ComputePerformance(mixture_portfolio_5y_xts)
gaussian_portfolio_1y_performance <- ComputePerformance(gaussian_portfolio_1y_xts)
gaussian_portfolio_2y_performance <- ComputePerformance(gaussian_portfolio_2y_xts)
gaussian_portfolio_5y_performance <- ComputePerformance(gaussian_portfolio_5y_xts)
naive_portfolio_performance <- ComputePerformance(naive_portfolio_xts)
SavePerformanceTable(all_performance = all_performance,
filename = "tables/etf_performance_table.txt")
sum(mixture_portfolio_5y + 0.0003)
sum(mixture_portfolio_5y$portfolio_return + 0.0003)
mixture_portfolio_5y$portfolio_return <- exp(mixture_portfolio_5y$portfolio_return + 0.0003) - 1
sum(mixture_portfolio_5y$portfolio_return)
gaussian_portfolio_5y_xts <- xts::xts(gaussian_portfolio_5y[,-1],
order.by = gaussian_portfolio_5y$date)
# Compute performance
mixture_portfolio_1y_performance <- ComputePerformance(mixture_portfolio_1y_xts)
mixture_portfolio_2y_performance <- ComputePerformance(mixture_portfolio_2y_xts)
mixture_portfolio_5y_performance <- ComputePerformance(mixture_portfolio_5y_xts)
gaussian_portfolio_1y_performance <- ComputePerformance(gaussian_portfolio_1y_xts)
gaussian_portfolio_2y_performance <- ComputePerformance(gaussian_portfolio_2y_xts)
gaussian_portfolio_5y_performance <- ComputePerformance(gaussian_portfolio_5y_xts)
naive_portfolio_performance <- ComputePerformance(naive_portfolio_xts)
# Merge the three performance results into one list
all_performance <- mixture_portfolio_1y_performance %>%
dplyr::inner_join(mixture_portfolio_2y_performance, by = "Metric") %>%
dplyr::inner_join(mixture_portfolio_5y_performance, by = "Metric") %>%
dplyr::inner_join(gaussian_portfolio_1y_performance, by = "Metric") %>%
dplyr::inner_join(gaussian_portfolio_2y_performance, by = "Metric") %>%
dplyr::inner_join(gaussian_portfolio_5y_performance, by = "Metric") %>%
merged_portfolio_1y <- mixture_portfolio_1y %>%
dplyr::inner_join(gaussian_portfolio_1y, by = "date") %>%
dplyr::inner_join(naive_portfolio, by = "date") %>%
dplyr::rename("Mixture Portfolio 1 year" = portfolio_return.x,
"Gaussian Portfolio 1 year" = portfolio_return.y,
"Equal Weight Portfolio" = portfolio_return) %>%
timetk::tk_xts()
# Merge the three performance results into one list
all_performance <- mixture_portfolio_1y_performance %>%
dplyr::inner_join(mixture_portfolio_2y_performance, by = "Metric") %>%
dplyr::inner_join(mixture_portfolio_5y_performance, by = "Metric") %>%
dplyr::inner_join(gaussian_portfolio_1y_performance, by = "Metric") %>%
dplyr::inner_join(gaussian_portfolio_2y_performance, by = "Metric") %>%
dplyr::inner_join(gaussian_portfolio_5y_performance, by = "Metric") %>%
dplyr::inner_join(naive_portfolio_performance, by = "Metric")
mixture_portfolio_1y_performance
# Merge the three performance results into one list
all_performance <- mixture_portfolio_1y_performance %>%
dplyr::inner_join(mixture_portfolio_2y_performance, by = "Metrics") %>%
dplyr::inner_join(mixture_portfolio_5y_performance, by = "Metrics") %>%
dplyr::inner_join(gaussian_portfolio_1y_performance, by = "Metrics") %>%
dplyr::inner_join(gaussian_portfolio_2y_performance, by = "Metrics") %>%
dplyr::inner_join(gaussian_portfolio_5y_performance, by = "Metrics") %>%
dplyr::inner_join(naive_portfolio_performance, by = "Metrics")
merged_portfolio_1y <- mixture_portfolio_1y %>%
dplyr::inner_join(gaussian_portfolio_1y, by = "date") %>%
dplyr::inner_join(naive_portfolio, by = "date") %>%
dplyr::rename("Mixture Portfolio 1 year" = portfolio_return.x,
"Gaussian Portfolio 1 year" = portfolio_return.y,
"Equal Weight Portfolio" = portfolio_return) %>%
timetk::tk_xts()
merged_portfolio_2y <- mixture_portfolio_2y %>%
dplyr::inner_join(gaussian_portfolio_2y, by = "date") %>%
dplyr::inner_join(naive_portfolio, by = "date") %>%
dplyr::rename("Mixture Portfolio 2 years" = portfolio_return.x,
"Gaussian Portfolio 2 years" = portfolio_return.y,
"Equal Weight Portfolio" = portfolio_return) %>%
timetk::tk_xts()
merged_portfolio_5y <- mixture_portfolio_5y %>%
dplyr::inner_join(gaussian_portfolio_5y, by = "date") %>%
dplyr::inner_join(naive_portfolio, by = "date") %>%
dplyr::rename("Mixture Portfolio 5 years" = portfolio_return.x,
"Gaussian Portfolio 5 years" = portfolio_return.y,
"Equal Weight Portfolio" = portfolio_return) %>%
timetk::tk_xts()
SavePerformanceGraph(data = merged_portfolio_1y,
filename = "figures/etf_performance_1y_graph.png")
SavePerformanceGraph(data = merged_portfolio_2y,
filename = "figures/etf_performance_2y_graph.png")
SavePerformanceGraph(data = merged_portfolio_5y,
filename = "figures/etf_performance_5y_graph.png")
# Convert the data frame to a LaTeX table using xtable
performance_table <- xtable(all_performance,
caption = "Portfolio Performance Metrics",
align = c("l", "c", "c", "c", "c", "c", "c", "c", "c"),
digits = c(2, 4, 4, 4, 4, 4, 4, 4, 4))
performance_table
SavePerformanceTable(all_performance = all_performance,
filename = "tables/etf_performance_table.txt")
SavePerformanceTable <- function(all_performance, filename = "tables/performance_table.txt") {
# SavePerformanceTable: Function to save a LaTeX table of portfolio performance metrics.
# Inputs:
#   all_performance: A list containing performance metrics for different portfolio strategies.
#   filename: File path to save the LaTeX table (default = "tables/performance_table.txt").
# Convert the data frame to a LaTeX table using xtable
performance_table <- xtable(all_performance,
caption = "Portfolio Performance Metrics",
align = c("l", "c", "c", "c", "c", "c", "c", "c", "c"),
digits = c(2, 4, 4, 4, 4, 4, 4, 4, 4))
# Save the LaTeX table as .txt file
write(as.character(performance_table), file = filename)
cat("Performance table saved to:", filename, "\n")
}
SavePerformanceTable(all_performance = all_performance,
filename = "tables/etf_performance_table.txt")
performance_table
# Compute performance
mixture_portfolio_1y_performance <- ComputePerformance(mixture_portfolio_1y_xts) %>%
dplyr::rename("Mixture Portfolio 1 year" = Values)
# Compute performance
mixture_portfolio_1y_performance <- ComputePerformance(mixture_portfolio_1y_xts) %>%
dplyr::rename("Mixture Portfolio 1 year" = Values)
mixture_portfolio_2y_performance <- ComputePerformance(mixture_portfolio_2y_xts) %>%
dplyr::rename("Mixture Portfolio 2 year" = Values)
mixture_portfolio_5y_performance <- ComputePerformance(mixture_portfolio_5y_xts) %>%
dplyr::rename("Mixture Portfolio 5 year" = Values)
# Compute performance
mixture_portfolio_1y_performance <- ComputePerformance(mixture_portfolio_1y_xts) %>%
dplyr::rename("Mixture Portfolio 1 year" = Values)
mixture_portfolio_2y_performance <- ComputePerformance(mixture_portfolio_2y_xts) %>%
dplyr::rename("Mixture Portfolio 2 years" = Values)
mixture_portfolio_5y_performance <- ComputePerformance(mixture_portfolio_5y_xts) %>%
dplyr::rename("Mixture Portfolio 5 years" = Values)
gaussian_portfolio_1y_performance <- ComputePerformance(gaussian_portfolio_1y_xts) %>%
dplyr::rename("Gaussian Portfolio 1 year" = Values)
gaussian_portfolio_2y_performance <- ComputePerformance(gaussian_portfolio_2y_xts) %>%
dplyr::rename("Gaussian Portfolio 2 years" = Values)
gaussian_portfolio_5y_performance <- ComputePerformance(gaussian_portfolio_5y_xts) %>%
dplyr::rename("Gaussian Portfolio 5 years" = Values)
naive_portfolio_performance <- ComputePerformance(naive_portfolio_xts) %>%
dplyr::rename("Equal Weight Portfolio" = Values)
SavePerformanceTable(all_performance = all_performance,
filename = "tables/etf_performance_table.txt")
# Convert the data frame to a LaTeX table using xtable
performance_table <- xtable(all_performance,
caption = "Portfolio Performance Metrics",
align = c("l", "c", "c", "c", "c", "c", "c", "c", "c"),
digits = c(2, 4, 4, 4, 4, 4, 4, 4, 4))
performance_table
all_performance
# Merge the three performance results into one list
all_performance <- mixture_portfolio_1y_performance %>%
dplyr::inner_join(mixture_portfolio_2y_performance, by = "Metrics") %>%
dplyr::inner_join(mixture_portfolio_5y_performance, by = "Metrics") %>%
dplyr::inner_join(gaussian_portfolio_1y_performance, by = "Metrics") %>%
dplyr::inner_join(gaussian_portfolio_2y_performance, by = "Metrics") %>%
dplyr::inner_join(gaussian_portfolio_5y_performance, by = "Metrics") %>%
dplyr::inner_join(naive_portfolio_performance, by = "Metrics")
all_performance
# Convert the data frame to a LaTeX table using xtable
performance_table <- xtable(all_performance,
caption = "Portfolio Performance Metrics",
align = c("l", "c", "c", "c", "c", "c", "c", "c", "c"),
digits = c(2, 4, 4, 4, 4, 4, 4, 4, 4))
performance_table
all_performance
mixture_portfolio_5y_performance <- ComputePerformance(mixture_portfolio_5y_xts) %>%
dplyr::rename("Mixture Portfolio 5 years" = Values)
mixture_portfolio_5y_performance
mixture_portfolio_5y_xts <- xts::xts(mixture_portfolio_5y[,-1],
order.by = mixture_portfolio_5y$date)
mixture_portfolio_5y_performance <- ComputePerformance(mixture_portfolio_5y_xts) %>%
dplyr::rename("Mixture Portfolio 5 years" = Values)
mixture_portfolio_5y_performance
